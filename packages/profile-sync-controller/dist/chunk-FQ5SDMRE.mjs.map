{"version":3,"sources":["../src/sdk/env.ts"],"sourcesContent":["export enum Env {\n  DEV = 'dev',\n  UAT = 'uat',\n  PRD = 'prd',\n}\n\nexport enum Platform {\n  MOBILE = 'mobile',\n  EXTENSION = 'extension',\n  PORTFOLIO = 'portfolio',\n  INFURA = 'infura',\n}\n\ntype EnvUrlsEntry = {\n  authApiUrl: string;\n  oidcApiUrl: string;\n  userStorageApiUrl: string;\n};\n\nconst ENV_URLS: Record<Env, EnvUrlsEntry> = {\n  dev: {\n    authApiUrl: 'https://authentication.dev-api.cx.metamask.io',\n    oidcApiUrl: 'https://oidc.dev-api.cx.metamask.io',\n    userStorageApiUrl: 'https://user-storage.dev-api.cx.metamask.io',\n  },\n  uat: {\n    authApiUrl: 'https://authentication.uat-api.cx.metamask.io',\n    oidcApiUrl: 'https://oidc.uat-api.cx.metamask.io',\n    userStorageApiUrl: 'https://user-storage.uat-api.cx.metamask.io',\n  },\n  prd: {\n    authApiUrl: 'https://authentication.api.cx.metamask.io',\n    oidcApiUrl: 'https://oidc.api.cx.metamask.io',\n    userStorageApiUrl: 'https://user-storage.api.cx.metamask.io',\n  },\n};\n\n/**\n * Validates and returns correct environment endpoints\n *\n * @param env - environment field\n * @returns the correct environment url\n * @throws on invalid environment passed\n */\nexport function getEnvUrls(env: Env): EnvUrlsEntry {\n  if (!ENV_URLS[env]) {\n    throw new Error('invalid environment configuration');\n  }\n  return ENV_URLS[env];\n}\n\n/**\n * Returns the valid OIDC Client ID (used during authorization)\n *\n * @param env - environment field\n * @param platform - platform field\n * @returns the OIDC client id for the environment\n */\nexport function getOidcClientId(env: Env, platform: Platform): string {\n  const clientIds = {\n    [Env.DEV]: {\n      [Platform.PORTFOLIO]: 'c7ca94a0-5d52-4635-9502-1a50a9c410cc',\n      [Platform.MOBILE]: 'e83c7cc9-267d-4fb4-8fec-f0e3bbe5ae8e',\n      [Platform.EXTENSION]: 'f1a963d7-50dc-4cb5-8d81-f1f3654f0df3',\n      [Platform.INFURA]: 'bd887006-0d55-481a-a395-5ff9a0dc52c9',\n    },\n    [Env.UAT]: {\n      [Platform.PORTFOLIO]: '8f2dd4ac-db07-4819-9ba5-1ee0ec1b56d1',\n      [Platform.MOBILE]: 'c3cfdcd2-51d6-4fae-ad2c-ff238c8fef53',\n      [Platform.EXTENSION]: 'a9de167c-c9a6-43d8-af39-d301fd44c485',\n      [Platform.INFURA]: '01929890-7002-4c97-9913-8f6c09a6d674',\n    },\n    [Env.PRD]: {\n      [Platform.PORTFOLIO]: '35e1cd62-49c5-4be8-8b6e-a5212f2d2cfb',\n      [Platform.MOBILE]: '75fa62a3-9ca0-4b91-9fe5-76bec86b0257',\n      [Platform.EXTENSION]: '1132f10a-b4e5-4390-a5f2-d9c6022db564',\n      [Platform.INFURA]: '', // unset\n    },\n  };\n\n  if (!clientIds[env]) {\n    throw new Error(`invalid env ${env}: cannot determine oidc client id`);\n  }\n\n  if (!clientIds[env][platform]) {\n    throw new Error(\n      `invalid env ${env} and platform ${platform} combination: cannot determine oidc client id`,\n    );\n  }\n\n  return clientIds[env][platform];\n}\n"],"mappings":";AAAO,IAAK,MAAL,kBAAKA,SAAL;AACL,EAAAA,KAAA,SAAM;AACN,EAAAA,KAAA,SAAM;AACN,EAAAA,KAAA,SAAM;AAHI,SAAAA;AAAA,GAAA;AAML,IAAK,WAAL,kBAAKC,cAAL;AACL,EAAAA,UAAA,YAAS;AACT,EAAAA,UAAA,eAAY;AACZ,EAAAA,UAAA,eAAY;AACZ,EAAAA,UAAA,YAAS;AAJC,SAAAA;AAAA,GAAA;AAaZ,IAAM,WAAsC;AAAA,EAC1C,KAAK;AAAA,IACH,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,mBAAmB;AAAA,EACrB;AAAA,EACA,KAAK;AAAA,IACH,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,mBAAmB;AAAA,EACrB;AAAA,EACA,KAAK;AAAA,IACH,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,mBAAmB;AAAA,EACrB;AACF;AASO,SAAS,WAAW,KAAwB;AACjD,MAAI,CAAC,SAAS,GAAG,GAAG;AAClB,UAAM,IAAI,MAAM,mCAAmC;AAAA,EACrD;AACA,SAAO,SAAS,GAAG;AACrB;AASO,SAAS,gBAAgB,KAAU,UAA4B;AACpE,QAAM,YAAY;AAAA,IAChB,CAAC,eAAO,GAAG;AAAA,MACT,CAAC,2BAAkB,GAAG;AAAA,MACtB,CAAC,qBAAe,GAAG;AAAA,MACnB,CAAC,2BAAkB,GAAG;AAAA,MACtB,CAAC,qBAAe,GAAG;AAAA,IACrB;AAAA,IACA,CAAC,eAAO,GAAG;AAAA,MACT,CAAC,2BAAkB,GAAG;AAAA,MACtB,CAAC,qBAAe,GAAG;AAAA,MACnB,CAAC,2BAAkB,GAAG;AAAA,MACtB,CAAC,qBAAe,GAAG;AAAA,IACrB;AAAA,IACA,CAAC,eAAO,GAAG;AAAA,MACT,CAAC,2BAAkB,GAAG;AAAA,MACtB,CAAC,qBAAe,GAAG;AAAA,MACnB,CAAC,2BAAkB,GAAG;AAAA,MACtB,CAAC,qBAAe,GAAG;AAAA;AAAA,IACrB;AAAA,EACF;AAEA,MAAI,CAAC,UAAU,GAAG,GAAG;AACnB,UAAM,IAAI,MAAM,eAAe,GAAG,mCAAmC;AAAA,EACvE;AAEA,MAAI,CAAC,UAAU,GAAG,EAAE,QAAQ,GAAG;AAC7B,UAAM,IAAI;AAAA,MACR,eAAe,GAAG,iBAAiB,QAAQ;AAAA,IAC7C;AAAA,EACF;AAEA,SAAO,UAAU,GAAG,EAAE,QAAQ;AAChC;","names":["Env","Platform"]}